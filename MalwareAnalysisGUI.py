from securetea.lib.malware_analysis.continuous_malware_defence_dev_copy import ContinuousDefence
from securetea.lib.malware_analysis import globals
from securetea.lib.malware_analysis.mal_gui import app_runner


def boom():
    # Create new threads
    GUI = input('Would you like GUI? (Y/n) \n\t:') or 'y'
    if GUI.lower() == 'n':
        GUI = False
    else:
        GUI = True

    globals.initialize_flask()
    thread1 = ContinuousDefence(gui=GUI)

    # Start new Thread for MalwareAnalysis
    thread1.start()
    if GUI:
        app_runner()

    thread1.join()


boom()
